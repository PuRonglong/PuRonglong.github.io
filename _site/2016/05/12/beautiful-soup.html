<!DOCTYPE html>
<html>

	<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<title>è’²è£é¾™çš„åšå®¢</title>
	<meta name="description" content="  pythonä¸­çš„Beautiful Soup">

	<link rel="stylesheet" href="/css/bootstrap.css">
	<link rel="stylesheet" href="/css/main.css">
	<link rel="stylesheet" href="/css/code.css">
	<link rel="canonical" href="http://www.puronglong.com/2016/05/12/beautiful-soup.html">
	<link rel="alternate" type="application/rss+xml" title="blog" href="http://www.puronglong.com/feed.xml">
</head>


	<body>

		<div class="pull-right right-sidebar">
	<p>æ ‡ç­¾ï¼š</p>
	
	<p>
	<a class="page-link" href="/tag/æŠ€æœ¯">æŠ€æœ¯</a>
	<span>ï¼ˆ64ï¼‰</span></p>
	
	<p>
	<a class="page-link" href="/tag/ç”Ÿæ´»">ç”Ÿæ´»</a>
	<span>ï¼ˆ35ï¼‰</span></p>
	
</div>
		
		<div class="pull-left left-sidebar">
			<ul class="header-list">
				<li><a class="page-link" href="/">Home</a></li>
				<li><a class="page-link" href="/about/">About</a></li>
				<li><a class="page-link" href="/feed.xml">RSS</a></li>
			</ul>
		</div>
		<div class="page-content">
			<div class="wrapper">
				<article class="post home" itemscope itemtype="http://schema.org/BlogPosting">

	<header class="post-header">
		<h1 class="post-title" itemprop="name headline">Beautiful Soupç¬”è®°</h1>
		<p class="post-meta">2016-05-12</p>
	</header>

	<div class="post-content" itemprop="articleBody">
		<blockquote>
  <p>pythonä¸­çš„Beautiful Soup</p>
</blockquote>

<p>æˆ‘ä»¬å‰é¢æåˆ°è¿‡ä¸€ä¸ªxpathï¼Œä»Šå¤©è¦è®²çš„Beautiful Soupä½œç”¨ç±»ä¼¼ï¼Œå®ƒæ˜¯ä¸€ä¸ªå¯ä»¥ä»HTMLæˆ–XMLæ–‡ä»¶ä¸­æå–æ•°æ®çš„Pythonåº“ã€‚</p>

<!-- more -->

<p>ä¸‹é¢çš„ä¸€æ®µHTMLä»£ç å°†ä½œä¸ºä¾‹å­è¢«å¤šæ¬¡ç”¨åˆ°.è¿™æ˜¯çˆ±ä¸½ä¸æ¢¦æ¸¸ä»™å¢ƒçš„çš„ä¸€æ®µå†…å®¹(ä»¥åå†…å®¹ä¸­ç®€ç§°ä¸ºçˆ±ä¸½ä¸çš„æ–‡æ¡£):</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	html_doc = """
	<span class="nt">&lt;html&gt;&lt;head&gt;&lt;title&gt;</span>The Dormouse's story<span class="nt">&lt;/title&gt;&lt;/head&gt;</span>
	<span class="nt">&lt;body&gt;</span>
	<span class="nt">&lt;p</span> <span class="na">class=</span><span class="s">"title"</span><span class="nt">&gt;&lt;b&gt;</span>The Dormouse's story<span class="nt">&lt;/b&gt;&lt;/p&gt;</span>

	<span class="nt">&lt;p</span> <span class="na">class=</span><span class="s">"story"</span><span class="nt">&gt;</span>Once upon a time there were three little sisters; and their names were
	<span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"http://example.com/elsie"</span> <span class="na">class=</span><span class="s">"sister"</span> <span class="na">id=</span><span class="s">"link1"</span><span class="nt">&gt;</span>Elsie<span class="nt">&lt;/a&gt;</span>,
	<span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"http://example.com/lacie"</span> <span class="na">class=</span><span class="s">"sister"</span> <span class="na">id=</span><span class="s">"link2"</span><span class="nt">&gt;</span>Lacie<span class="nt">&lt;/a&gt;</span> and
	<span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"http://example.com/tillie"</span> <span class="na">class=</span><span class="s">"sister"</span> <span class="na">id=</span><span class="s">"link3"</span><span class="nt">&gt;</span>Tillie<span class="nt">&lt;/a&gt;</span>;
	and they lived at the bottom of a well.<span class="nt">&lt;/p&gt;</span>

	<span class="nt">&lt;p</span> <span class="na">class=</span><span class="s">"story"</span><span class="nt">&gt;</span>...<span class="nt">&lt;/p&gt;</span>
	"""
</code></pre>
</div>

<p>æˆ‘ä»¬è¦æƒ³ä½¿ç”¨BeautifulSoupè§£æè¿™æ®µä»£ç ï¼Œé¦–å…ˆè¦å¾—åˆ°ä¸€ä¸ªBeautifulSoupçš„å¯¹è±¡ï¼Œç„¶åå¯¹è¿™ä¸ªå¯¹è±¡è¿›è¡ŒBeautifulSoupçš„ç›¸å…³æ“ä½œã€‚</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	from bs4 import BeautifulSoup
	soup = BeautifulSoup(html_doc)
</code></pre>
</div>

<p>é¦–å…ˆæ˜¯å¼•å…¥BeautifulSoupï¼Œå½“ç„¶åœ¨è¿™ä¹‹å‰æˆ‘ä»¬è¦å…ˆè¿›è¡Œå®‰è£…ï¼š</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	pip install beautifulsoup4
</code></pre>
</div>

<p>ç„¶åå®ä¾‹åŒ–ä¸€ä¸ªBeautifulSoupå¯¹è±¡ï¼Œæ‰“å°å‡ºè¿™ä¸ªå¯¹è±¡æˆ‘ä»¬å¯ä»¥çœ‹åˆ°æ˜¯è¿™æ ·çš„ï¼š</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	<span class="k">print</span><span class="p">(</span><span class="n">soup</span><span class="o">.</span><span class="n">prettify</span><span class="p">())</span>
	<span class="c"># &lt;html&gt;</span>
	<span class="c">#  &lt;head&gt;</span>
	<span class="c">#   &lt;title&gt;</span>
	<span class="c">#    The Dormouse's story</span>
	<span class="c">#   &lt;/title&gt;</span>
	<span class="c">#  &lt;/head&gt;</span>
	<span class="c">#  &lt;body&gt;</span>
	<span class="c">#   &lt;p class="title"&gt;</span>
	<span class="c">#    &lt;b&gt;</span>
	<span class="c">#     The Dormouse's story</span>
	<span class="c">#    &lt;/b&gt;</span>
	<span class="c">#   &lt;/p&gt;</span>
	<span class="c">#   &lt;p class="story"&gt;</span>
	<span class="c">#    Once upon a time there were three little sisters; and their names were</span>
	<span class="c">#    &lt;a class="sister" href="http://example.com/elsie" id="link1"&gt;</span>
	<span class="c">#     Elsie</span>
	<span class="c">#    &lt;/a&gt;</span>
	<span class="c">#    ,</span>
	<span class="c">#    &lt;a class="sister" href="http://example.com/lacie" id="link2"&gt;</span>
	<span class="c">#     Lacie</span>
	<span class="c">#    &lt;/a&gt;</span>
	<span class="c">#    and</span>
	<span class="c">#    &lt;a class="sister" href="http://example.com/tillie" id="link2"&gt;</span>
	<span class="c">#     Tillie</span>
	<span class="c">#    &lt;/a&gt;</span>
	<span class="c">#    ; and they lived at the bottom of a well.</span>
	<span class="c">#   &lt;/p&gt;</span>
	<span class="c">#   &lt;p class="story"&gt;</span>
	<span class="c">#    ...</span>
	<span class="c">#   &lt;/p&gt;</span>
	<span class="c">#  &lt;/body&gt;</span>
	<span class="c"># &lt;/html&gt;</span>
</code></pre>
</div>

<p>è·å–åˆ°BeautifulSoupå¯¹è±¡åï¼Œé‚£ä¹ˆæœ‰å“ªäº›æ–¹æ³•å¯ä»¥æ“ä½œå‘¢ï¼Ÿ</p>

<p>ï¼ˆ1ï¼‰è·å–æ ‡ç­¾å†…å®¹ï¼š</p>

<p>æˆ‘ä»¬å¯ä»¥åˆ©ç”¨soupåŠ æ ‡ç­¾åè½»æ¾åœ°è·å–è¿™äº›æ ‡ç­¾çš„å†…å®¹ï¼Œå¦‚ä¸‹ï¼š</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	<span class="n">soup</span><span class="o">.</span><span class="n">title</span>
	<span class="c"># &lt;title&gt;The Dormouse's story&lt;/title&gt;</span>

	<span class="n">soup</span><span class="o">.</span><span class="n">title</span><span class="o">.</span><span class="n">name</span>
	<span class="c"># u'title'</span>

	<span class="n">soup</span><span class="o">.</span><span class="n">title</span><span class="o">.</span><span class="n">string</span>
	<span class="c"># u'The Dormouse's story'</span>

	<span class="n">soup</span><span class="o">.</span><span class="n">title</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">name</span>
	<span class="c"># u'head'</span>

	<span class="n">soup</span><span class="o">.</span><span class="n">p</span>
	<span class="c"># &lt;p class="title"&gt;&lt;b&gt;The Dormouse's story&lt;/b&gt;&lt;/p&gt;</span>

	<span class="n">soup</span><span class="o">.</span><span class="n">p</span><span class="p">[</span><span class="s">'class'</span><span class="p">]</span>
	<span class="c"># u'title'</span>

	<span class="n">soup</span><span class="o">.</span><span class="n">a</span>
	<span class="c"># &lt;a class="sister" href="http://example.com/elsie" id="link1"&gt;Elsie&lt;/a&gt;</span>

	<span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s">'a'</span><span class="p">)</span>
	<span class="c"># [&lt;a class="sister" href="http://example.com/elsie" id="link1"&gt;Elsie&lt;/a&gt;,</span>
	<span class="c">#  &lt;a class="sister" href="http://example.com/lacie" id="link2"&gt;Lacie&lt;/a&gt;,</span>
	<span class="c">#  &lt;a class="sister" href="http://example.com/tillie" id="link3"&gt;Tillie&lt;/a&gt;]</span>

	<span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s">"link3"</span><span class="p">)</span>
	<span class="c"># &lt;a class="sister" href="http://example.com/tillie" id="link3"&gt;Tillie&lt;/a&gt;</span>
</code></pre>
</div>

<p>å¯¹äºæ ‡ç­¾ï¼Œå®ƒæœ‰ä¸¤ä¸ªé‡è¦çš„å±æ€§ï¼Œåˆ†åˆ«æ˜¯nameå’Œattrsï¼Œå‰è€…æ˜¯æ ‡ç­¾åï¼Œåè€…æ˜¯å±æ€§ï¼š</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	<span class="k">print</span> <span class="n">soup</span><span class="o">.</span><span class="n">p</span><span class="o">.</span><span class="n">attrs</span>
	<span class="c">#{'class': ['title'], 'name': 'dromouse'}</span>
</code></pre>
</div>

<p>è·å–å±æ€§ï¼š</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	<span class="n">css_soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="s">'&lt;p class="body strikeout"&gt;&lt;/p&gt;'</span><span class="p">)</span>
	<span class="n">css_soup</span><span class="o">.</span><span class="n">p</span><span class="p">[</span><span class="s">'class'</span><span class="p">]</span>
	<span class="c"># ["body", "strikeout"]</span>

	<span class="n">css_soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="s">'&lt;p class="body"&gt;&lt;/p&gt;'</span><span class="p">)</span>
	<span class="n">css_soup</span><span class="o">.</span><span class="n">p</span><span class="p">[</span><span class="s">'class'</span><span class="p">]</span>
	<span class="c"># ["body"]</span>
</code></pre>
</div>

<p>è¿˜å¯ä»¥å¯¹è¿™äº›å±æ€§å’Œå†…å®¹ç­‰ç­‰è¿›è¡Œä¿®æ”¹ï¼š</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	<span class="n">soup</span><span class="o">.</span><span class="n">p</span><span class="p">[</span><span class="s">'class'</span><span class="p">]</span><span class="o">=</span><span class="s">"newClass"</span>
	<span class="k">print</span> <span class="n">soup</span><span class="o">.</span><span class="n">p</span>
	<span class="c">#&lt;p class="newClass" name="dromouse"&gt;&lt;b&gt;The Dormouse's story&lt;/b&gt;&lt;/p&gt;</span>
</code></pre>
</div>

<p>tagçš„å±æ€§æ“ä½œæ–¹æ³•ä¸å­—å…¸ä¸€æ ·ã€‚</p>

<p>ï¼ˆ2ï¼‰è·å–åˆ°æ ‡ç­¾å†…å®¹åï¼Œæƒ³è¦è·å–æ ‡ç­¾é‡Œé¢çš„æ–‡æœ¬è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	<span class="k">print</span> <span class="n">soup</span><span class="o">.</span><span class="n">p</span><span class="o">.</span><span class="n">string</span>
	<span class="c">#The Dormouse's story</span>
</code></pre>
</div>

<p>ç°åœ¨æ¥äº†è§£ä¸€ä¸‹æœç´¢æ–¹æ³•çš„ç»†èŠ‚:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	<span class="n">find_all</span><span class="p">(</span> <span class="n">name</span> <span class="p">,</span> <span class="n">attrs</span> <span class="p">,</span> <span class="n">recursive</span> <span class="p">,</span> <span class="n">text</span> <span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span> <span class="p">)</span>
</code></pre>
</div>

<p>find_all()æ–¹æ³•æœç´¢å½“å‰tagçš„æ‰€æœ‰tagå­èŠ‚ç‚¹,å¹¶åˆ¤æ–­æ˜¯å¦ç¬¦åˆè¿‡æ»¤å™¨çš„æ¡ä»¶ã€‚è¿™é‡Œæœ‰å‡ ä¸ªä¾‹å­:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	<span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s">"title"</span><span class="p">)</span>
	<span class="c"># [&lt;title&gt;The Dormouse's story&lt;/title&gt;]</span>

	<span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s">"p"</span><span class="p">,</span> <span class="s">"title"</span><span class="p">)</span>
	<span class="c"># [&lt;p class="title"&gt;&lt;b&gt;The Dormouse's story&lt;/b&gt;&lt;/p&gt;]</span>

	<span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s">"a"</span><span class="p">)</span>
	<span class="c"># [&lt;a class="sister" href="http://example.com/elsie" id="link1"&gt;Elsie&lt;/a&gt;,</span>
	<span class="c">#  &lt;a class="sister" href="http://example.com/lacie" id="link2"&gt;Lacie&lt;/a&gt;,</span>
	<span class="c">#  &lt;a class="sister" href="http://example.com/tillie" id="link3"&gt;Tillie&lt;/a&gt;]</span>

	<span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s">"link2"</span><span class="p">)</span>
	<span class="c"># [&lt;a class="sister" href="http://example.com/lacie" id="link2"&gt;Lacie&lt;/a&gt;]</span>

	<span class="kn">import</span> <span class="nn">re</span>
	<span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">re</span><span class="o">.</span><span class="nb">compile</span><span class="p">(</span><span class="s">"sisters"</span><span class="p">))</span>
	<span class="c"># u'Once upon a time there were three little sisters; and their names were\n'</span>
</code></pre>
</div>
<p>find():</p>

<p><code class="highlighter-rouge">find_all()</code>æ–¹æ³•å°†è¿”å›æ–‡æ¡£ä¸­ç¬¦åˆæ¡ä»¶çš„æ‰€æœ‰tag,å°½ç®¡æœ‰æ—¶å€™æˆ‘ä»¬åªæƒ³å¾—åˆ°ä¸€ä¸ªç»“æœ.æ¯”å¦‚æ–‡æ¡£ä¸­åªæœ‰ä¸€ä¸ª&lt;body&gt;æ ‡ç­¾,é‚£ä¹ˆä½¿ç”¨ <code class="highlighter-rouge">find_all()</code>æ–¹æ³•æ¥æŸ¥æ‰¾&lt;body&gt;æ ‡ç­¾å°±ä¸å¤ªåˆé€‚,ä½¿ç”¨find_allæ–¹æ³•å¹¶è®¾ç½®limit=1å‚æ•°ä¸å¦‚ç›´æ¥ä½¿ç”¨find()æ–¹æ³•.ä¸‹é¢ä¸¤è¡Œä»£ç æ˜¯ç­‰ä»·çš„:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	<span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s">'title'</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
	<span class="c"># [&lt;title&gt;The Dormouse's story&lt;/title&gt;]</span>

	<span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">'title'</span><span class="p">)</span>
	<span class="c"># &lt;title&gt;The Dormouse's story&lt;/title&gt;</span>
</code></pre>
</div>

<p>å”¯ä¸€çš„åŒºåˆ«æ˜¯find_all()æ–¹æ³•çš„è¿”å›ç»“æœæ˜¯å€¼åŒ…å«ä¸€ä¸ªå…ƒç´ çš„åˆ—è¡¨,è€Œfind()æ–¹æ³•ç›´æ¥è¿”å›ç»“æœã€‚</p>

<p>soup.head.titleæ˜¯tagçš„åå­—æ–¹æ³•çš„ç®€å†™.è¿™ä¸ªç®€å†™çš„åŸç†å°±æ˜¯å¤šæ¬¡è°ƒç”¨å½“å‰tagçš„find()æ–¹æ³•:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	<span class="n">soup</span><span class="o">.</span><span class="n">head</span><span class="o">.</span><span class="n">title</span>
	<span class="c"># &lt;title&gt;The Dormouse's story&lt;/title&gt;</span>

	<span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">"head"</span><span class="p">)</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">"title"</span><span class="p">)</span>
	<span class="c"># &lt;title&gt;The Dormouse's story&lt;/title&gt;</span>
</code></pre>
</div>

<p>æŒ‰CSSæœç´¢ã€‚</p>

<p>æŒ‰ç…§CSSç±»åæœç´¢tagçš„åŠŸèƒ½éå¸¸å®ç”¨,ä½†æ ‡è¯†CSSç±»åçš„å…³é”®å­—classåœ¨Pythonä¸­æ˜¯ä¿ç•™å­—,ä½¿ç”¨classåšå‚æ•°ä¼šå¯¼è‡´è¯­æ³•é”™è¯¯.ä»BeautifulSoupçš„4.1.1ç‰ˆæœ¬å¼€å§‹,å¯ä»¥é€šè¿‡class_å‚æ•°æœç´¢æœ‰æŒ‡å®šCSSç±»åçš„tagã€‚</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	<span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s">"a"</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s">"sister"</span><span class="p">)</span>
	<span class="c"># [&lt;a class="sister" href="http://example.com/elsie" id="link1"&gt;Elsie&lt;/a&gt;,</span>
	<span class="c">#  &lt;a class="sister" href="http://example.com/lacie" id="link2"&gt;Lacie&lt;/a&gt;,</span>
	<span class="c">#  &lt;a class="sister" href="http://example.com/tillie" id="link3"&gt;Tillie&lt;/a&gt;]</span>
</code></pre>
</div>

<p>get_text():</p>

<p>å¦‚æœåªæƒ³å¾—åˆ°tagä¸­åŒ…å«çš„æ–‡æœ¬å†…å®¹,é‚£ä¹ˆå¯ä»¥å—²ç”¨get_text()æ–¹æ³•,è¿™ä¸ªæ–¹æ³•è·å–åˆ°tagä¸­åŒ…å«çš„æ‰€æœ‰æ–‡ç‰ˆå†…å®¹åŒ…æ‹¬å­å­™tagä¸­çš„å†…å®¹,å¹¶å°†ç»“æœä½œä¸ºUnicodeå­—ç¬¦ä¸²è¿”å›:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	<span class="n">markup</span> <span class="o">=</span> <span class="s">'&lt;a href="http://example.com/"&gt;</span><span class="se">\n</span><span class="s">I linked to &lt;i&gt;example.com&lt;/i&gt;</span><span class="se">\n</span><span class="s">&lt;/a&gt;'</span>
	<span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">markup</span><span class="p">)</span>

	<span class="n">soup</span><span class="o">.</span><span class="n">get_text</span><span class="p">()</span>
	<span class="s">u'</span><span class="se">\n</span><span class="s">I linked to example.com</span><span class="se">\n</span><span class="s">'</span>
	<span class="n">soup</span><span class="o">.</span><span class="n">i</span><span class="o">.</span><span class="n">get_text</span><span class="p">()</span>
	<span class="s">u'example.com'</span>
</code></pre>
</div>

<p>å¯ä»¥é€šè¿‡å‚æ•°æŒ‡å®štagçš„æ–‡æœ¬å†…å®¹çš„åˆ†éš”ç¬¦:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	<span class="c"># soup.get_text("|")</span>
	<span class="s">u'</span><span class="se">\n</span><span class="s">I linked to |example.com|</span><span class="se">\n</span><span class="s">'</span>
</code></pre>
</div>

<p>è¿˜å¯ä»¥å»é™¤è·å¾—æ–‡æœ¬å†…å®¹çš„å‰åç©ºç™½:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	<span class="c"># soup.get_text("|", strip=True)</span>
	<span class="s">u'I linked to|example.com'</span>
</code></pre>
</div>

<p>ç¼–ç ï¼š</p>

<p>è¿˜å¯ä»¥è°ƒç”¨ BeautifulSoup å¯¹è±¡æˆ–ä»»æ„èŠ‚ç‚¹çš„ encode() æ–¹æ³•,å°±åƒPythonçš„å­—ç¬¦ä¸²è°ƒç”¨ encode() æ–¹æ³•ä¸€æ ·:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	<span class="n">soup</span><span class="o">.</span><span class="n">p</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s">"latin-1"</span><span class="p">)</span>
	<span class="c"># '&lt;p&gt;Sacr\xe9 bleu!&lt;/p&gt;'</span>

	<span class="n">soup</span><span class="o">.</span><span class="n">p</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">)</span>
	<span class="c"># '&lt;p&gt;Sacr\xc3\xa9 bleu!&lt;/p&gt;'</span>
</code></pre>
</div>

<p>CSSé€‰æ‹©å™¨ï¼š</p>

<p>Beautiful Soupæ”¯æŒå¤§éƒ¨åˆ†çš„CSSé€‰æ‹©å™¨,åœ¨Tagæˆ–BeautifulSoupå¯¹è±¡çš„.select()æ–¹æ³•ä¸­ä¼ å…¥å­—ç¬¦ä¸²å‚æ•°,å³å¯ä½¿ç”¨CSSé€‰æ‹©å™¨çš„è¯­æ³•æ‰¾åˆ°tag:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	<span class="n">soup</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s">"title"</span><span class="p">)</span>
	<span class="c"># [&lt;title&gt;The Dormouse's story&lt;/title&gt;]</span>

	<span class="n">soup</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s">"p nth-of-type(3)"</span><span class="p">)</span>
	<span class="c"># [&lt;p class="story"&gt;...&lt;/p&gt;]</span>
</code></pre>
</div>

<p>é€šè¿‡tagæ ‡ç­¾é€å±‚æŸ¥æ‰¾:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	<span class="n">soup</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s">"body a"</span><span class="p">)</span>
	<span class="c"># [&lt;a class="sister" href="http://example.com/elsie" id="link1"&gt;Elsie&lt;/a&gt;,</span>
	<span class="c">#  &lt;a class="sister" href="http://example.com/lacie"  id="link2"&gt;Lacie&lt;/a&gt;,</span>
	<span class="c">#  &lt;a class="sister" href="http://example.com/tillie" id="link3"&gt;Tillie&lt;/a&gt;]</span>

	<span class="n">soup</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s">"html head title"</span><span class="p">)</span>
	<span class="c"># [&lt;title&gt;The Dormouse's story&lt;/title&gt;]</span>
</code></pre>
</div>

<p>æ‰¾åˆ°æŸä¸ªtagæ ‡ç­¾ä¸‹çš„ç›´æ¥å­æ ‡ç­¾:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	<span class="n">soup</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s">"head &gt; title"</span><span class="p">)</span>
	<span class="c"># [&lt;title&gt;The Dormouse's story&lt;/title&gt;]</span>

	<span class="n">soup</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s">"p &gt; a"</span><span class="p">)</span>
	<span class="c"># [&lt;a class="sister" href="http://example.com/elsie" id="link1"&gt;Elsie&lt;/a&gt;,</span>
	<span class="c">#  &lt;a class="sister" href="http://example.com/lacie"  id="link2"&gt;Lacie&lt;/a&gt;,</span>
	<span class="c">#  &lt;a class="sister" href="http://example.com/tillie" id="link3"&gt;Tillie&lt;/a&gt;]</span>

	<span class="n">soup</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s">"p &gt; a:nth-of-type(2)"</span><span class="p">)</span>
	<span class="c"># [&lt;a class="sister" href="http://example.com/lacie" id="link2"&gt;Lacie&lt;/a&gt;]</span>

	<span class="n">soup</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s">"p &gt; #link1"</span><span class="p">)</span>
	<span class="c"># [&lt;a class="sister" href="http://example.com/elsie" id="link1"&gt;Elsie&lt;/a&gt;]</span>

	<span class="n">soup</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s">"body &gt; a"</span><span class="p">)</span>
	<span class="c"># []</span>
</code></pre>
</div>

<p>æ‰¾åˆ°å…„å¼ŸèŠ‚ç‚¹æ ‡ç­¾:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	<span class="n">soup</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s">"#link1 ~ .sister"</span><span class="p">)</span>
	<span class="c"># [&lt;a class="sister" href="http://example.com/lacie" id="link2"&gt;Lacie&lt;/a&gt;,</span>
	<span class="c">#  &lt;a class="sister" href="http://example.com/tillie"  id="link3"&gt;Tillie&lt;/a&gt;]</span>

	<span class="n">soup</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s">"#link1 + .sister"</span><span class="p">)</span>
	<span class="c"># [&lt;a class="sister" href="http://example.com/lacie" id="link2"&gt;Lacie&lt;/a&gt;]</span>
</code></pre>
</div>

<p>é€šè¿‡CSSçš„ç±»åæŸ¥æ‰¾:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	<span class="n">soup</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s">".sister"</span><span class="p">)</span>
	<span class="c"># [&lt;a class="sister" href="http://example.com/elsie" id="link1"&gt;Elsie&lt;/a&gt;,</span>
	<span class="c">#  &lt;a class="sister" href="http://example.com/lacie" id="link2"&gt;Lacie&lt;/a&gt;,</span>
	<span class="c">#  &lt;a class="sister" href="http://example.com/tillie" id="link3"&gt;Tillie&lt;/a&gt;]</span>

	<span class="n">soup</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s">"[class~=sister]"</span><span class="p">)</span>
	<span class="c"># [&lt;a class="sister" href="http://example.com/elsie" id="link1"&gt;Elsie&lt;/a&gt;,</span>
	<span class="c">#  &lt;a class="sister" href="http://example.com/lacie" id="link2"&gt;Lacie&lt;/a&gt;,</span>
	<span class="c">#  &lt;a class="sister" href="http://example.com/tillie" id="link3"&gt;Tillie&lt;/a&gt;]</span>
</code></pre>
</div>

<p>é€šè¿‡tagçš„idæŸ¥æ‰¾:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	<span class="n">soup</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s">"#link1"</span><span class="p">)</span>
	<span class="c"># [&lt;a class="sister" href="http://example.com/elsie" id="link1"&gt;Elsie&lt;/a&gt;]</span>

	<span class="n">soup</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s">"a#link2"</span><span class="p">)</span>
	<span class="c"># [&lt;a class="sister" href="http://example.com/lacie" id="link2"&gt;Lacie&lt;/a&gt;]</span>
</code></pre>
</div>

<p>é€šè¿‡æ˜¯å¦å­˜åœ¨æŸä¸ªå±æ€§æ¥æŸ¥æ‰¾:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	<span class="n">soup</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s">'a[href]'</span><span class="p">)</span>
	<span class="c"># [&lt;a class="sister" href="http://example.com/elsie" id="link1"&gt;Elsie&lt;/a&gt;,</span>
	<span class="c">#  &lt;a class="sister" href="http://example.com/lacie" id="link2"&gt;Lacie&lt;/a&gt;,</span>
	<span class="c">#  &lt;a class="sister" href="http://example.com/tillie" id="link3"&gt;Tillie&lt;/a&gt;]</span>
</code></pre>
</div>

<p>é€šè¿‡å±æ€§çš„å€¼æ¥æŸ¥æ‰¾:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	<span class="n">soup</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s">'a[href="http://example.com/elsie"]'</span><span class="p">)</span>
	<span class="c"># [&lt;a class="sister" href="http://example.com/elsie" id="link1"&gt;Elsie&lt;/a&gt;]</span>

	<span class="n">soup</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s">'a[href^="http://example.com/"]'</span><span class="p">)</span>
	<span class="c"># [&lt;a class="sister" href="http://example.com/elsie" id="link1"&gt;Elsie&lt;/a&gt;,</span>
	<span class="c">#  &lt;a class="sister" href="http://example.com/lacie" id="link2"&gt;Lacie&lt;/a&gt;,</span>
	<span class="c">#  &lt;a class="sister" href="http://example.com/tillie" id="link3"&gt;Tillie&lt;/a&gt;]</span>

	<span class="n">soup</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s">'a[href$="tillie"]'</span><span class="p">)</span>
	<span class="c"># [&lt;a class="sister" href="http://example.com/tillie" id="link3"&gt;Tillie&lt;/a&gt;]</span>

	<span class="n">soup</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s">'a[href*=".com/el"]'</span><span class="p">)</span>
	<span class="c"># [&lt;a class="sister" href="http://example.com/elsie" id="link1"&gt;Elsie&lt;/a&gt;]</span>
</code></pre>
</div>

<p>æ›´å¤šä¿¡æ¯å‚è€ƒæ–‡æ¡£ï¼š</p>

<p><a href="http://beautifulsoup.readthedocs.io/zh_CN/latest/#">Beautiful Soupæ–‡æ¡£</a></p>

	</div>

</article>

			</div>
		</div>

		<footer class="site-footer">

	<div class="wrapper">

		<div class="footer-col-wrapper">

			<div>
				<ul class="social-media-list">
					
					<li>
						<a href="https://github.com/puronglong"><span class="icon icon--github"><svg viewBox="0 0 16 16"><path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/></svg>
</span><span class="username">puronglong</span></a>

					</li>
					
				</ul>
			</div>

		</div>

	</div>

</footer>

<script type="text/javascript">

	var a = "\n                                   _                                         \n _ __  _   _ _ __ ___  _ __   __ _| | ___  _ __   __ _   ___  __ _ _   _   _ \n| '_ \\| | | | '__/ _ \\| '_ \\ / _` | |/ _ \\| '_ \\ / _` | / __|/ _` | | | | (_)\n| |_) | |_| | | | (_) | | | | (_| | | (_) | | | | (_| | \\__ \\ (_| | |_| |  _ \n| .__/ \\__,_|_|  \\___/|_| |_|\\__, |_|\\___/|_| |_|\\__, | |___/\\__,_|\\__, | (_)\n|_|                          |___/               |___/             |___/     \n          _                                                                  \n  /\\  /\\ (_)                                                                 \n / /_/ / | |                                                                 \n/ __  /  | |                                                                 \n\\/ /_/   |_|            ğŸ˜ƒ";
    console.info(a);

	document.addEventListener('visibilitychange', function() {
                document.title = document.hidden ? 'å´©æºƒäº†ï¼Œæ¥çœ‹ä¸€ä¸‹':'å°é¾™é¾™çš„ä¸ªäººåšå®¢~'
            });
</script>


	</body>

</html>
