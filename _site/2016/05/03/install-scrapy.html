<!DOCTYPE html>
<html>

	<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<title>蒲荣龙的博客</title>
	<meta name="description" content="  在安装scrapy的过程中遇到了一些问题记录一下。安装这个确实挺多人遇到了问题的，虽然大家遇到的问题可能不同，但大部分可能都是缺少某些包">

	<link rel="stylesheet" href="/css/bootstrap.css">
	<link rel="stylesheet" href="/css/main.css">
	<link rel="stylesheet" href="/css/code.css">
	<link rel="canonical" href="http://localhost:4000/2016/05/03/install-scrapy.html">
	<link rel="alternate" type="application/rss+xml" title="blog" href="http://localhost:4000/feed.xml">
</head>


	<body>

		<div class="pull-right right-sidebar">
	<p>标签：</p>
	
	<p>
	<a class="page-link" href="/tag/技术">技术</a>
	<span>（64）</span></p>
	
	<p>
	<a class="page-link" href="/tag/生活">生活</a>
	<span>（35）</span></p>
	
</div>
		
		<div class="pull-left left-sidebar">
			<ul class="header-list">
				<li><a class="page-link" href="/">Home</a></li>
				<li><a class="page-link" href="/about/">About</a></li>
				<li><a class="page-link" href="/feed.xml">RSS</a></li>
			</ul>
		</div>
		<div class="page-content">
			<div class="wrapper">
				<article class="post home" itemscope itemtype="http://schema.org/BlogPosting">

	<header class="post-header">
		<h1 class="post-title" itemprop="name headline">安装scrapy遇到的一些问题</h1>
		<p class="post-meta">2016-05-03</p>
	</header>

	<div class="post-content" itemprop="articleBody">
		<blockquote>
  <p>在安装scrapy的过程中遇到了一些问题记录一下。安装这个确实挺多人遇到了问题的，虽然大家遇到的问题可能不同，但大部分可能都是缺少某些包</p>
</blockquote>

<p><img src="/images/article/2016-5-3/1.png" alt="img" /></p>

<!-- more -->

<p>进入命令行，执行：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	pip install scrapy
</code></pre>
</div>

<p>但是执行到最后的时候报错如下：</p>

<p><img src="/images/article/2016-5-3/2.png" alt="img" /></p>

<p>于是安装<code class="highlighter-rouge">xcode-select</code></p>

<p>执行：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	xcode-select --install
</code></pre>
</div>

<p>然后安装libxml2：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	brew install --with-python libxml2
</code></pre>
</div>

<p>但是执行完毕又报错：</p>

<p><img src="/images/article/2016-5-3/3.png" alt="img" /></p>

<p>执行：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	echo /usr/local/opt/libxml2/lib/python2.7/site-packages &gt;&gt; /usr/local/lib/python2.7/site-packages/libxml2.pth
</code></pre>
</div>

<p>却提示：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	zsh: no such file or directory: /usr/local/lib/python2.7/site-packages/libxml2.pth
</code></pre>
</div>

<p>好吧，没有就新建一个吧，于是新建一个文件再次执行：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	zsh: permission denied: /usr/local/lib/python2.7/site-packages/libxml2.pth
</code></pre>
</div>

<p>还是不行啊，没有libxml2就安装不了scrapy呀，一般安装错误有可能就是缺少了某些包，直接下载吧：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>wget ftp://xmlsoft.org/libxml2/libxml2-git-snapshot.tar.gz//下载
	tar -zxvf libxml2-git-snapshot.tar.gz//解压
	cd libxml2-2.9.2/
	/configure
</code></pre>
</div>

<p>下载，解压，安装……好险，终于没有又报什么错误了。</p>

<p>这个时候再安装scrapy:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	pip install scrapy
</code></pre>
</div>

<p>提示：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	Installing collected packages: scrapy
	Successfully installed scrapy-1.0.6
</code></pre>
</div>

<p>安装成功。</p>

<p>执行scrapy提示：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	zsh: command not found: scrapy
</code></pre>
</div>

<p>不对呀，成功安装了scrapy为什么说not found呢？</p>

<p>最后终于找到问题，执行：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	ln -s  /Library/Frameworks/Python.framework/Versions/2.7/bin/scrapy /usr/local/bin/scrapy
</code></pre>
</div>

<p>呼~终于好了。问题在于我调用的不是系统的python，比如执行which python，路径显示:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	/usr/local/bin/python
</code></pre>
</div>

<p>如果是系统自带的python应该显示：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	/usr/bin/python
</code></pre>
</div>

<p>所以需要执行上面的<code class="highlighter-rouge">ln -s</code>命令，</p>

<p>那么这个命令是什么意思呢？Linux/Unix 档案系统中，有所谓的连结(link)，我们可以将其视为档案的别名，而连结又可分为两种 : 硬连结(hard link)与软连结(symbolic link)，硬连结的意思是一个档案可以有多个名称，而软连结的方式则是产生一个特殊的档案，该档案的内容是指向另一个档案的位置。硬连结是存在同一个档案系统中，而软连结却可以跨越不同的档案系统。</p>

<p>ln source dist是产生一个连结(dist)到source，至于使用硬连结或软链结则由参数决定。</p>

<p>不论是硬连结或软链结都不会将原本的档案复制一份，只会占用非常少量的磁碟空间。</p>

<p>参数格式 :</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	　　-f : 链结时先将与 dist 同档名的档案删除

	　　-d : 允许系统管理者硬链结自己的目录

	　　-i : 在删除与 dist 同档名的档案时先进行询问

	　　-n : 在进行软连结时，将 dist 视为一般的档案

	　　-s : 进行软链结(symbolic link)

	　　-v : 在连结之前显示其档名

	　　-b : 将在链结时会被覆写或删除的档案进行备份

	　　-S SUFFIX : 将备份的档案都加上 SUFFIX 的字尾

	　　-V METHOD : 指定备份的方式

	　　--help : 显示辅助说明

	　　--version : 显示版本
</code></pre>
</div>

<p>ln是linux中一个非常重要命令，它的功能是为某一个文件在另外一个位置建立一个不同的链接，这个命令最常用的参数是-s，具体用法是：ln –s 源文件 目标文件。</p>

<p>范例 :</p>

<p>将档案yy产生一个symbolic link : zz</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	ln -s yy zz
</code></pre>
</div>

<p>将档案yy产生一个hard link : zz</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	ln yy xx
</code></pre>
</div>

<p>linux通过链接文件能共享几乎所有类型的文件。</p>

<p>再有一个问题就是执行:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	sudo pip install scrapy
</code></pre>
</div>

<p>的时候，会收到这样的提示：</p>

<p><img src="/images/article/2016-5-3/4.png" alt="img" /></p>

<p>google出stackoverflow上一个回答解释了这个问题：</p>

<p><img src="/images/article/2016-5-3/5.png" alt="img" /></p>

<p>就是添加一个-H参数。</p>

<p>那么添加这个参数是什么意思呢？sudo还有哪些参数呢？这就要让我们来看看sudo这个命令了。</p>

<p>语法：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	sudo(选项)(参数)
</code></pre>
</div>

<p>选项：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	-b：在后台执行指令；
	-h：显示帮助；
	-H：将HOME环境变量设为新身份的HOME环境变量；
	-k：结束密码的有效期限，也就是下次再执行sudo时便需要输入密码；
	-l：列出目前用户可执行与无法执行的指令；
	-p：改变询问密码的提示符号；
	-s：执行指定的shell；
	-u&lt;用户&gt;：以指定的用户作为新的身份。若不加上此参数，则预设以root作为新的身份；
	-v：延长密码有效期限5分钟；
	-V ：显示版本信息。
</code></pre>
</div>

<p>推荐一个linux系统命令查询的网站：</p>

<p>http://man.linuxde.net/</p>

<p>有兴趣的可以参考这些文档：</p>

<p>http://www.cnblogs.com/rwxwsblog/p/4557123.html?utm_source=tuicool&amp;utm_medium=referral
这个楼主安装的时候也是遇到了很多问题。</p>

	</div>

</article>

			</div>
		</div>

		<footer class="site-footer">

	<div class="wrapper">

		<div class="footer-col-wrapper">

			<div>
				<ul class="social-media-list">
					
					<li>
						<a href="https://github.com/puronglong"><span class="icon icon--github"><svg viewBox="0 0 16 16"><path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/></svg>
</span><span class="username">puronglong</span></a>

					</li>
					
				</ul>
			</div>

		</div>

	</div>

</footer>

<script type="text/javascript">

	var a = "\n                                   _                                         \n _ __  _   _ _ __ ___  _ __   __ _| | ___  _ __   __ _   ___  __ _ _   _   _ \n| '_ \\| | | | '__/ _ \\| '_ \\ / _` | |/ _ \\| '_ \\ / _` | / __|/ _` | | | | (_)\n| |_) | |_| | | | (_) | | | | (_| | | (_) | | | | (_| | \\__ \\ (_| | |_| |  _ \n| .__/ \\__,_|_|  \\___/|_| |_|\\__, |_|\\___/|_| |_|\\__, | |___/\\__,_|\\__, | (_)\n|_|                          |___/               |___/             |___/     \n          _                                                                  \n  /\\  /\\ (_)                                                                 \n / /_/ / | |                                                                 \n/ __  /  | |                                                                 \n\\/ /_/   |_|            😃";
    console.info(a);

	document.addEventListener('visibilitychange', function() {
                document.title = document.hidden ? '崩溃了，来看一下':'小龙龙的个人博客~'
            });
</script>


	</body>

</html>
