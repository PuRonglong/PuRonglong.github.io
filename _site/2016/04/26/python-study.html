<!DOCTYPE html>
<html>

	<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<title>蒲荣龙的博客</title>
	<meta name="description" content="  开启python之旅！">

	<link rel="stylesheet" href="/css/bootstrap.css">
	<link rel="stylesheet" href="/css/main.css">
	<link rel="stylesheet" href="/css/code.css">
	<link rel="canonical" href="http://www.puronglong.com/2016/04/26/python-study.html">
	<link rel="alternate" type="application/rss+xml" title="blog" href="http://www.puronglong.com/feed.xml">
</head>


	<body>

		<div class="pull-right right-sidebar">
	<p>标签：</p>
	
	<p>
	<a class="page-link" href="/tag/技术">技术</a>
	<span>（66）</span></p>
	
	<p>
	<a class="page-link" href="/tag/生活">生活</a>
	<span>（35）</span></p>
	
</div>
		
		<div class="pull-left left-sidebar">
			<ul class="header-list">
				<li><a class="page-link" href="/">Home</a></li>
				<li><a class="page-link" href="/about/">About</a></li>
				<li><a class="page-link" href="/feed.xml">RSS</a></li>
			</ul>
		</div>
		<div class="page-content">
			<div class="wrapper">
				<article class="post home" itemscope itemtype="http://schema.org/BlogPosting">

	<header class="post-header">
		<h1 class="post-title" itemprop="name headline">简明python教程</h1>
		<p class="post-meta">2016-04-26</p>
	</header>

	<div class="post-content" itemprop="articleBody">
		<blockquote>
  <p>开启python之旅！</p>
</blockquote>

<p>使用带提示符的 Python 解释器：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	<span class="o">~</span> <span class="n">python</span>
	<span class="n">Python</span> <span class="mf">2.7</span><span class="o">.</span><span class="mi">10</span> <span class="p">(</span><span class="n">v2</span><span class="o">.</span><span class="mf">7.10</span><span class="p">:</span><span class="mi">15</span><span class="n">c95b7d81dc</span><span class="p">,</span> <span class="n">May</span> <span class="mi">23</span> <span class="mi">2015</span><span class="p">,</span> <span class="mi">09</span><span class="p">:</span><span class="mi">33</span><span class="p">:</span><span class="mi">12</span><span class="p">)</span>
	<span class="p">[</span><span class="n">GCC</span> <span class="mf">4.2</span><span class="o">.</span><span class="mi">1</span> <span class="p">(</span><span class="n">Apple</span> <span class="n">Inc</span><span class="o">.</span> <span class="n">build</span> <span class="mi">5666</span><span class="p">)</span> <span class="p">(</span><span class="n">dot</span> <span class="mi">3</span><span class="p">)]</span> <span class="n">on</span> <span class="n">darwin</span>
	<span class="n">Type</span> <span class="s">"help"</span><span class="p">,</span> <span class="s">"copyright"</span><span class="p">,</span> <span class="s">"credits"</span> <span class="ow">or</span> <span class="s">"license"</span> <span class="k">for</span> <span class="n">more</span> <span class="n">information</span><span class="o">.</span>
	<span class="o">&gt;&gt;&gt;</span>
</code></pre>
</div>

<!-- more -->

<p>使用源文件：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	<span class="err">$</span> <span class="n">python</span> <span class="n">helloworld</span><span class="o">.</span><span class="n">py</span>
	<span class="n">Hello</span> <span class="n">World</span>
</code></pre>
</div>

<p>使用变量和字面意义上的常量：</p>

<p>输入：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	<span class="n">i</span><span class="o">=</span><span class="mi">5</span>
	<span class="k">print</span> <span class="n">i</span>
	<span class="n">i</span><span class="o">=</span><span class="n">i</span><span class="o">+</span> <span class="mi">1</span>
	<span class="k">print</span> <span class="n">i</span>
	<span class="n">s</span> <span class="o">=</span> <span class="s">'''This is a multi-line string.
	This is the second line.'''</span>
	<span class="k">print</span> <span class="n">s</span>
</code></pre>
</div>

<p>输出：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	<span class="err">$</span> <span class="n">python</span> <span class="n">var</span><span class="o">.</span><span class="n">py</span>
	<span class="mi">5</span>
	<span class="mi">6</span>
	<span class="n">This</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">multi</span><span class="o">-</span><span class="n">line</span> <span class="n">string</span><span class="o">.</span> <span class="n">This</span> <span class="ow">is</span> <span class="n">the</span> <span class="n">second</span> <span class="n">line</span><span class="o">.</span>
</code></pre>
</div>

<p>使用表达式：</p>

<p>输入：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	<span class="n">length</span> <span class="o">=</span> <span class="mi">5</span>
	<span class="n">breadth</span> <span class="o">=</span> <span class="mi">2</span>
	<span class="n">area</span> <span class="o">=</span> <span class="n">length</span> <span class="o">*</span> <span class="n">breadth</span>
	<span class="k">print</span> <span class="s">'Area is'</span><span class="p">,</span> <span class="n">area</span>
	<span class="k">print</span> <span class="s">'Perimeter is'</span><span class="p">,</span> <span class="mi">2</span> <span class="o">*</span> <span class="p">(</span><span class="n">length</span> <span class="o">+</span> <span class="n">breadth</span><span class="p">)</span>
</code></pre>
</div>

<p>输出：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	<span class="err">$</span> <span class="n">python</span> <span class="n">expression</span><span class="o">.</span><span class="n">py</span> 
	<span class="n">Area</span> <span class="ow">is</span> <span class="mi">10</span>
	<span class="n">Perimeter</span> <span class="ow">is</span> <span class="mi">14</span>
</code></pre>
</div>

<p>使用 if 语句：</p>

<p>必须在逻辑行结尾处有一个冒号。</p>

<p>使用 while 语句：</p>

<p>使用 for 语句：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">):</span> <span class="k">print</span> <span class="n">i</span>
	<span class="k">else</span><span class="p">:</span>
	<span class="k">print</span> <span class="s">'The for loop is over'</span>
</code></pre>
</div>

<p>我们所做的只是提供两个数,range返回一个序列的数。这个序列从第一个数开始到第二个数为止。例如,range(1,5)给出序列[1,2,3,4]。默认地,range的步长为1。如果我们为range提供第三个数,那么它将成为步长。例如,range(1,5,2)给出[1,3]。记住,range向上 延伸到第二个数,即它不包含第二个数。</p>

<p>使用 break 语句：</p>

<p>跳出循环</p>

<p>使用continue语句：</p>

<p>continue语句会忽略块中的剩余的语句</p>

<p>定义函数：</p>

<p>使用def：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	<span class="k">def</span> <span class="nf">sayHello</span><span class="p">():</span>
		<span class="k">print</span> <span class="s">'Hello World!'</span> <span class="c"># block belonging to the function</span>
	<span class="n">sayHello</span><span class="p">()</span> <span class="c"># call the function</span>
</code></pre>
</div>

<p>使用函数形参：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	<span class="k">def</span> <span class="nf">printMax</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
		<span class="k">if</span> <span class="n">a</span> <span class="o">&gt;</span> <span class="n">b</span><span class="p">:</span>
			<span class="k">print</span> <span class="n">a</span><span class="p">,</span> <span class="s">'is maximum'</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="k">print</span> <span class="n">b</span><span class="p">,</span> <span class="s">'is maximum'</span>
	<span class="n">printMax</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
</code></pre>
</div>

<p>使用局部变量：</p>

<p>x 是函数的局部变量。所以,当我们在函数内改变 x 的值的时候,在主块中定义的 x 不受影响。</p>

<p>使用global语句：</p>

<p>global语句被用来声明x是全局的——因此,当我们在函数内把值赋给x的时候,这个变化也反映在我们在主块中使用x的值的时候。</p>

<p>使用默认参数值：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	<span class="k">def</span> <span class="nf">say</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="n">times</span> <span class="o">=</span> <span class="mi">1</span><span class="p">):</span>
	<span class="k">print</span> <span class="n">message</span> <span class="o">*</span> <span class="n">times</span>
	<span class="n">say</span><span class="p">(</span><span class="s">'Hello'</span><span class="p">)</span>
	<span class="n">say</span><span class="p">(</span><span class="s">'World'</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
</code></pre>
</div>

<p>名为say的函数用来打印一个字符串任意所需的次数。如果我们不提供一个值,那么默认地,字符串将只被打印一遍。我们通过给形参times指定默认参数值1来实现这一功能。</p>

<p>在第一次使用say的时候,我们只提供一个字符串,函数只打印一次字符串。在第二次使用say的时候,我们提供了字符串和参数5,表明我们想要说这个字符串消息5遍。</p>

<p>使用字面意义上的语句：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	<span class="k">def</span> <span class="nf">maximum</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
		<span class="k">if</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="n">y</span><span class="p">:</span>
			<span class="k">return</span> <span class="n">x</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="k">return</span> <span class="n">y</span>
	<span class="k">print</span> <span class="n">maximum</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</code></pre>
</div>

<p>使用DocStrings：</p>

<p>文档字符串的惯例是一个多行字符串,它的首行以大写字母开始,句号结尾。第二行是空行,从第三行开始是详 细的描述。 强烈建议 你在你的函数中使用文档字符串时遵循这个惯例。</p>

<p>使用sys模块：</p>

<p>sys模块包含了与Python解释器和它的环境有关的函数。</p>

<p>sys.argv变量是一个字符串的列表。特别地,sys.argv包含了命令行参数的列表,即使用命令行传递给你的程序的参数。</p>

<p>使用模块的name：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">'__main__'</span><span class="p">:</span>
		<span class="k">print</span> <span class="s">'This program is being run by itself'</span>
	<span class="k">else</span><span class="p">:</span>
		<span class="k">print</span> <span class="s">'I am being imported from another module'</span>
</code></pre>
</div>

<p>每个Python模块都有它的name,如果它是’main’,这说明这个模块被用户单独运行,我们可以进行相应的恰当操作。</p>

<p>如何创建你自己的模块：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	<span class="kn">import</span> <span class="nn">mymodule</span>
	<span class="n">mymodule</span><span class="o">.</span><span class="n">sayhi</span><span class="p">()</span>
	<span class="k">print</span> <span class="s">'Version'</span><span class="p">,</span> <span class="n">mymodule</span><span class="o">.</span><span class="n">version</span>
</code></pre>
</div>

<p>from..import：</p>

<p>下面是一个使用from..import语法的版本：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	<span class="kn">from</span> <span class="nn">mymodule</span> <span class="kn">import</span> <span class="n">sayhi</span><span class="p">,</span> <span class="n">version</span>
	<span class="n">sayhi</span><span class="p">()</span>
	<span class="k">print</span> <span class="s">'Version'</span><span class="p">,</span> <span class="n">version</span>
</code></pre>
</div>

<p>使用dir函数：</p>

<p>返回当前模块的属性列表</p>

<p>使用列表：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	<span class="n">shoplist</span> <span class="o">=</span> <span class="p">[</span><span class="s">'apple'</span><span class="p">,</span> <span class="s">'mango'</span><span class="p">,</span> <span class="s">'carrot'</span><span class="p">,</span> <span class="s">'banana'</span><span class="p">]</span>

	<span class="n">shoplist</span><span class="o">.</span><span class="n">append</span><span class="p">()</span><span class="err">，</span><span class="n">shoplist</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span><span class="err">，</span><span class="k">del</span> <span class="n">shoplist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</code></pre>
</div>

<p>使用元组：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	<span class="n">zoo</span> <span class="o">=</span> <span class="p">(</span><span class="s">'wolf'</span><span class="p">,</span> <span class="s">'elephant'</span><span class="p">,</span> <span class="s">'penguin'</span><span class="p">)</span>

	<span class="nb">len</span><span class="p">(</span><span class="n">zoo</span><span class="p">)</span><span class="err">，</span><span class="n">zoo</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
</code></pre>
</div>

<p>含有0个或1个项目的元组。一个空的元组由一对空的圆括号组成,如myempty=()。然而,含有单个元素的元组就不那么简单了。你必须在第一个(唯一一个)项目后跟一个逗号,这样Python才能区分元组和表达式中一个带圆括号的对象。即如果你想要的是一个包含项目2的元组的时候,你应该指明singleton=(2 , )。</p>

<p>使用元组输出：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	<span class="n">age</span> <span class="o">=</span> <span class="mi">22</span>
	<span class="n">name</span> <span class="o">=</span> <span class="s">'Swaroop'</span>
	<span class="k">print</span> <span class="s">'</span><span class="si">%</span><span class="s">s is </span><span class="si">%</span><span class="s">d years old'</span> <span class="o">%</span> <span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">age</span><span class="p">)</span>
	<span class="k">print</span> <span class="s">'Why is </span><span class="si">%</span><span class="s">s playing with that python?'</span> <span class="o">%</span> <span class="n">name</span>
</code></pre>
</div>

<p>定制可以是%s表示字符串或%d表示整数。元组必须按照相同的顺序来对应这些定制。</p>

<p>使用字典：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	<span class="n">ab</span> <span class="o">=</span> <span class="p">{</span> <span class="s">'Swaroop'</span> <span class="p">:</span> <span class="s">'swaroopch@byteofpython.info'</span><span class="p">,</span>
	<span class="s">'Larry'</span> <span class="p">:</span> <span class="s">'larry@wall.org'</span><span class="p">,</span>
	<span class="s">'Matsumoto'</span> <span class="p">:</span> <span class="s">'matz@ruby-lang.org'</span><span class="p">,</span>
	<span class="s">'Spammer'</span> <span class="p">:</span> <span class="s">'spammer@hotmail.com'</span>
	<span class="p">}</span>
	<span class="k">print</span> <span class="s">"Swaroop's address is </span><span class="si">%</span><span class="s">s"</span> <span class="o">%</span> <span class="n">ab</span><span class="p">[</span><span class="s">'Swaroop'</span><span class="p">]</span>

	<span class="n">ab</span><span class="p">[</span><span class="s">'Guido'</span><span class="p">]</span> <span class="o">=</span> <span class="s">'guido@python.org'</span>
	<span class="k">del</span> <span class="n">ab</span><span class="p">[</span><span class="s">'Spammer'</span><span class="p">]</span>

	<span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">address</span> <span class="ow">in</span> <span class="n">ab</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
	<span class="k">print</span> <span class="s">'Contact </span><span class="si">%</span><span class="s">s at </span><span class="si">%</span><span class="s">s'</span> <span class="o">%</span> <span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">address</span><span class="p">)</span>
</code></pre>
</div>

<p>使用序列：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	<span class="n">shoplist</span> <span class="o">=</span> <span class="p">[</span><span class="s">'apple'</span><span class="p">,</span> <span class="s">'mango'</span><span class="p">,</span> <span class="s">'carrot'</span><span class="p">,</span> <span class="s">'banana'</span><span class="p">]</span>
</code></pre>
</div>

<p>Python从0开始计数。</p>

<p>索引同样可以是负数,在那样的情况下,位置是从序列尾开始计算的。因此,shoplist[-1]表示序列的最后一个元素而shoplist[-2]抓取序列的倒数第二个项目。</p>

<p>切片操作符中的第一个数(冒号之前)表示切片开始的位置,第二个数(冒号之后)表示切片到哪里结束。如果不指定第一个数,Python就从序列首开始。如果没有指定第二个数,则Python会停止在序列尾。注意,返回的序列从开始位置开始,刚好在结束位置之前结束。即开始位置是包含在序列切片中的,而结束位置被排斥在切片外。</p>

<p>你可以用负数做切片。负数用在从序列尾开始计算的位置。例如,shoplist[:-1]会返回除了最后一个项目外包含所有项目的序列切片。</p>

<p>对象与参考：</p>

<p>如果你想要复制一个列表或者类似的序列或者其他复杂的对象(不是如整数那样的简单对象),那么你必须使用切片操作符来取得拷贝。</p>

<p>备份脚本——版本一：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	<span class="n">time</span><span class="o">.</span><span class="n">strftime</span><span class="p">()</span>

	<span class="nb">zip</span>
</code></pre>
</div>

<p>备份脚本——版本二：</p>

<p>改变的部分主要是使用os.exists函数检验在主备份目录中是否有以当前日期作为名称的目录。如果没有,我们使用os.mkdir 函数创建。</p>

<p>备份脚本——版本三(不工作!)：</p>

<p>记住我们可以使用物理行尾的反斜杠来表示逻辑行在下一物理行继续。所以,我们修正了程序。这被称为修订。</p>

<p>备份脚本——版本四：</p>

<p>这个程序现在工作了!让我们看一下版本三中作出的实质性改进。我们使用raw_input函数得到用户的注释,然后通过len函数找出输入的长度以检验用户是否确实输入了什么东西。如果用户只是按了回车(比如这只是一个惯例备份,没有做什么特别的修改),那么我们就如之前那样继续操作。
然而,如果提供了注释,那么它会被附加到zip归档名,就在.zip扩展名之前。注意我们把注释中的空格替换成 下划线——这是因为处理这样的文件名要容易得多。</p>

<p>创建一个类：</p>

<p>使用class语句后跟类名,创建一个新的类。这下面跟着一个缩进的语句块形成类体。</p>

<p>使用对象的方法：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	<span class="k">class</span> <span class="nc">Person</span><span class="p">:</span>
		<span class="k">def</span> <span class="nf">sayHi</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
			<span class="k">print</span> <span class="s">'Hello, how are you?'</span>
	<span class="n">p</span> <span class="o">=</span> <span class="n">Person</span><span class="p">()</span>
	<span class="n">p</span><span class="o">.</span><span class="n">sayHi</span><span class="p">()</span>
</code></pre>
</div>

<p>这里我们看到了self的用法。注意sayHi方法没有任何参数,但仍然在函数定义时有self。</p>

<p>使用init方法：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	<span class="k">class</span> <span class="nc">Person</span><span class="p">:</span>
		<span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
		<span class="k">def</span> <span class="nf">sayHi</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
			<span class="k">print</span> <span class="s">'Hello, my name is'</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span>
	<span class="n">p</span> <span class="o">=</span> <span class="n">Person</span><span class="p">(</span><span class="s">'Swaroop'</span><span class="p">)</span>
	<span class="n">p</span><span class="o">.</span><span class="n">sayHi</span><span class="p">()</span>
</code></pre>
</div>

<p>最重要的是,我们没有专门调用init方法,只是在创建一个类的新实例的时候,把参数包括在圆括号内跟在类名后面,从而传递给init方法。这是这种方法的重要之处。</p>

<p>使用类与对象的变量：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	<span class="k">class</span> <span class="nc">Person</span><span class="p">:</span>
		<span class="n">population</span> <span class="o">=</span> <span class="mi">0</span>
		
		<span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
			<span class="k">print</span> <span class="s">'(Initializing </span><span class="si">%</span><span class="s">s.)'</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span>
			<span class="n">Person</span><span class="o">.</span><span class="n">population</span> <span class="o">+=</span> <span class="mi">1</span>

		<span class="k">def</span> <span class="nf">__del__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
			<span class="k">print</span> <span class="s">'</span><span class="si">%</span><span class="s">s say bye.'</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span>

			<span class="n">Person</span><span class="o">.</span><span class="n">population</span> <span class="o">-=</span> <span class="mi">1</span>

			<span class="k">if</span> <span class="n">Person</span><span class="o">.</span><span class="n">population</span> <span class="o">==</span> <span class="mi">0</span> <span class="p">:</span>
				<span class="k">print</span> <span class="s">'del: I am the last one.'</span>
			<span class="k">else</span><span class="p">:</span>
				<span class="k">print</span> <span class="s">'There are still </span><span class="si">%</span><span class="s">d people.'</span> <span class="o">%</span> <span class="n">Person</span><span class="o">.</span><span class="n">population</span>

		<span class="k">def</span> <span class="nf">sayHi</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
			<span class="k">print</span> <span class="s">'</span><span class="si">%</span><span class="s">s say Hi.'</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span>

		<span class="k">def</span> <span class="nf">howMany</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
			<span class="k">if</span> <span class="n">Person</span><span class="o">.</span><span class="n">population</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
				<span class="k">print</span> <span class="s">'howMany: I am the last one.'</span>
			<span class="k">else</span><span class="p">:</span>
				<span class="k">print</span> <span class="s">'We have </span><span class="si">%</span><span class="s">d persons here.'</span> <span class="o">%</span> <span class="n">Person</span><span class="o">.</span><span class="n">population</span>

	<span class="n">Tom</span> <span class="o">=</span> <span class="n">Person</span><span class="p">(</span><span class="s">'Tom'</span><span class="p">)</span>
	<span class="n">Tom</span><span class="o">.</span><span class="n">sayHi</span><span class="p">()</span>
	<span class="n">Tom</span><span class="o">.</span><span class="n">howMany</span><span class="p">()</span>

	<span class="n">Bob</span> <span class="o">=</span> <span class="n">Person</span><span class="p">(</span><span class="s">'Bob'</span><span class="p">)</span>
	<span class="n">Bob</span><span class="o">.</span><span class="n">sayHi</span><span class="p">()</span>
	<span class="n">Bob</span><span class="o">.</span><span class="n">howMany</span><span class="p">()</span>
</code></pre>
</div>

<p>这是一个很长的例子,但是它有助于说明类与对象的变量的本质。这里,population属于Person类,因此是一个类的变量。name变量属于对象(它使用self赋值)因此是对象的变量。
观察可以发现init方法用一个名字来初始化Person实例。在这个方法中,我们让population增加1,这是因为我们增加了一个人。同样可以发现,self.name的值根据每个对象指定,这表明了它作为对象的变量的本质。</p>

<p>使用继承：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	<span class="k">class</span> <span class="nc">SchoolMember</span><span class="p">:</span>
		<span class="s">'''Represents any school member.'''</span>
		<span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">age</span><span class="p">):</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">age</span> <span class="o">=</span> <span class="n">age</span>
			<span class="k">print</span> <span class="s">'(Initialized SchoolMember: </span><span class="si">%</span><span class="s">s)'</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span>
		<span class="k">def</span> <span class="nf">tell</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
			<span class="s">'''Tell my details.'''</span>
			<span class="k">print</span> <span class="s">'Name:"</span><span class="si">%</span><span class="s">s" Age:"</span><span class="si">%</span><span class="s">s"'</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">age</span><span class="p">),</span>

	<span class="k">class</span> <span class="nc">Teacher</span><span class="p">(</span><span class="n">SchoolMember</span><span class="p">):</span>
		<span class="s">'''Represents a teacher.'''</span>
		<span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">age</span><span class="p">,</span> <span class="n">salary</span><span class="p">):</span>
			<span class="n">SchoolMember</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">age</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">salary</span> <span class="o">=</span> <span class="n">salary</span>
			<span class="k">print</span> <span class="s">'(Initialized Teacher: </span><span class="si">%</span><span class="s">s)'</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span>
		<span class="k">def</span> <span class="nf">tell</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
			<span class="n">SchoolMember</span><span class="o">.</span><span class="n">tell</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
			<span class="k">print</span> <span class="s">'Salary: "</span><span class="si">%</span><span class="s">d"'</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">salary</span>
	<span class="k">class</span> <span class="nc">Student</span><span class="p">(</span><span class="n">SchoolMember</span><span class="p">):</span>
		<span class="s">'''Represents a student.'''</span>
		<span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">age</span><span class="p">,</span> <span class="n">marks</span><span class="p">):</span>
			<span class="n">SchoolMember</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">age</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">marks</span> <span class="o">=</span> <span class="n">marks</span>
			<span class="k">print</span> <span class="s">'(Initialized Student: </span><span class="si">%</span><span class="s">s)'</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span>
		<span class="k">def</span> <span class="nf">tell</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
			<span class="n">SchoolMember</span><span class="o">.</span><span class="n">tell</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
			<span class="k">print</span> <span class="s">'Marks: "</span><span class="si">%</span><span class="s">d"'</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">marks</span>

	<span class="n">t</span> <span class="o">=</span> <span class="n">Teacher</span><span class="p">(</span><span class="s">'Mrs. Shrividya'</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">30000</span><span class="p">)</span>
	<span class="n">s</span> <span class="o">=</span> <span class="n">Student</span><span class="p">(</span><span class="s">'Swaroop'</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">75</span><span class="p">)</span>

	<span class="k">print</span> <span class="c"># prints a blank line</span>
	<span class="n">members</span> <span class="o">=</span> <span class="p">[</span><span class="n">t</span><span class="p">,</span> <span class="n">s</span><span class="p">]</span>
	<span class="k">for</span> <span class="n">member</span> <span class="ow">in</span> <span class="n">members</span><span class="p">:</span>
		<span class="n">member</span><span class="o">.</span><span class="n">tell</span><span class="p">()</span> <span class="c"># works for both Teachers and Students</span>
</code></pre>
</div>

<p>注意,在我们使用SchoolMember类的tell方法的时候,我们把Teacher和Student的实例仅仅作为SchoolMember的实例。</p>

<p>使用文件：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	<span class="n">f</span> <span class="o">=</span> <span class="nb">file</span><span class="p">(</span><span class="s">'poem.txt'</span><span class="p">,</span> <span class="s">'w'</span><span class="p">)</span> <span class="c"># open for 'w'riting</span>
	<span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">poem</span><span class="p">)</span> <span class="c"># write text to file</span>
	<span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span> <span class="c"># close the file</span>
	<span class="n">f</span> <span class="o">=</span> <span class="nb">file</span><span class="p">(</span><span class="s">'poem.txt'</span><span class="p">)</span>
	<span class="c"># if no mode is specified, 'r'ead mode is assumed by default while True:</span>
	<span class="n">line</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>
	<span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">line</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span> <span class="c"># Zero length indicates EOF</span>
		<span class="k">break</span>
	<span class="k">print</span> <span class="n">line</span><span class="p">,</span>
	<span class="c"># Notice comma to avoid automatic newline added by Python</span>
	<span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span> <span class="c"># close the file</span>
</code></pre>
</div>

<p>我们通过指明我们希望打开的文件和模式来创建一个file类的实例。模式可以为读模式(‘r’)、写模式(‘w’)或追加模式(‘a’)。</p>

<p>在一个循环中,我们使用readline方法读文件的每一行。这个方法返回包括行末换行符的一个完整行。所以,当一个空的 字符串被返回的时候,即表示文件末已经到达了,于是我们停止循环。</p>

<p>储存与取储存：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	<span class="kn">import</span> <span class="nn">cPickle</span> <span class="kn">as</span> <span class="nn">p</span> <span class="c">#import pickle as p</span>
	<span class="n">shoplistfile</span> <span class="o">=</span> <span class="s">'shoplist.data'</span>
	<span class="c"># the name of the file where we will store the object</span>
	<span class="n">shoplist</span> <span class="o">=</span> <span class="p">[</span><span class="s">'apple'</span><span class="p">,</span> <span class="s">'mango'</span><span class="p">,</span> <span class="s">'carrot'</span><span class="p">]</span>
	<span class="c"># Write to the file</span>
	<span class="n">f</span> <span class="o">=</span> <span class="nb">file</span><span class="p">(</span><span class="n">shoplistfile</span><span class="p">,</span> <span class="s">'w'</span><span class="p">)</span>
	<span class="n">p</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">shoplist</span><span class="p">,</span> <span class="n">f</span><span class="p">)</span> <span class="c"># dump the object to a file</span>
	<span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

	<span class="k">del</span> <span class="n">shoplist</span> <span class="c"># remove the shoplist</span>
	<span class="c"># Read back from the storage</span>
	<span class="n">f</span> <span class="o">=</span> <span class="nb">file</span><span class="p">(</span><span class="n">shoplistfile</span><span class="p">)</span>
	<span class="n">storedlist</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
	<span class="k">print</span> <span class="n">storedlist</span>
</code></pre>
</div>

<p>为了在文件里储存一个对象,首先以写模式打开一个file对象,然后调用储存器模块的dump函数,把对象储存到打开的文件中。这个过程称为储存。</p>

<p>接下来,我们使用pickle模块的load函数的返回来取回对象。这个过程称为取储存 。</p>

<p>处理异常：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	<span class="kn">import</span> <span class="nn">sys</span>

	<span class="k">try</span><span class="p">:</span>
		<span class="n">s</span> <span class="o">=</span> <span class="nb">raw_input</span><span class="p">(</span><span class="s">'Enter something --&gt; '</span><span class="p">)</span>
	<span class="k">except</span> <span class="nb">EOFError</span><span class="p">:</span>
		<span class="k">print</span> <span class="s">'</span><span class="se">\n</span><span class="s">Why did you do an EOF on me?'</span>
		<span class="n">sys</span><span class="o">.</span><span class="nb">exit</span><span class="p">()</span> <span class="c"># exit the program</span>
	<span class="k">except</span><span class="p">:</span>
		<span class="k">print</span> <span class="s">'</span><span class="se">\n</span><span class="s">Some error/exception occurred.'</span> <span class="c"># here, we are not exiting the program</span>

	<span class="k">print</span> <span class="s">'Done'</span>
</code></pre>
</div>

<p>我们把所有可能引发错误的语句放在try块中,然后在except从句/块中处理所有的错误和异常。except从句可以专门处理单一的错误或异常,或者一组包括在圆括号内的错误/异常。如果没有给出错误或异常的名称,它会处理所有的错误和异常。对于每个try从句,至少都有一个相关联的except从句。</p>

<p>如何引发异常：</p>

<p>这里,我们创建了我们自己的异常类型,其实我们可以使用任何预定义的异常/错误。这个新的异常类型是ShortInputException类。它有两个域——length是给定输入的长度,atleast则是程序期望的最小长度。</p>

<p>使用sys.argv：</p>

<p>在Python程序运行的时候,即不是在交互模式下,在sys.argv列表中总是至少有一个项目。它就是当前运行的程序名称,作为sys.argv[0]，因为Python从0开始计数。其他的命令行参数在这个项目之后。</p>

<p>使用列表综合：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	<span class="n">listone</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
	<span class="n">listtwo</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="o">*</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">listone</span> <span class="k">if</span> <span class="n">i</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">]</span>
	<span class="k">print</span> <span class="n">listtwo</span>
</code></pre>
</div>

<p>这里我们为满足条件(if i &gt; 2)的数指定了一个操作(2*i),从而导出一个新的列表。注意原来的列表并没有发生变化。</p>

<p>使用 lambda 形式：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	<span class="k">def</span> <span class="nf">make_repeater</span><span class="p">(</span><span class="n">n</span><span class="p">):</span> 
		<span class="k">return</span> <span class="k">lambda</span> <span class="n">s</span><span class="p">:</span> <span class="n">s</span><span class="o">*</span><span class="n">n</span>

	<span class="n">twice</span> <span class="o">=</span> <span class="n">make_repeater</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>

	<span class="k">print</span> <span class="n">twice</span><span class="p">(</span><span class="s">'word'</span><span class="p">)</span>
	<span class="k">print</span> <span class="n">twice</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</code></pre>
</div>

<p>这里,我们使用了make_repeater函数在运行时创建新的函数对象,并且返回它。lambda语句用来创建函数对象。本质上,lambda需要一个参数,后面仅跟单个表达式作为函数体,而表达式的值被这个新建的函数返回。注意,即便是print语句也不能用在lambda形式中,只能使用表达式。</p>

	</div>

</article>

			</div>
		</div>

		<footer class="site-footer">

	<div class="wrapper">

		<div class="footer-col-wrapper">

			<div>
				<ul class="social-media-list">
					
					<li>
						<a href="https://github.com/puronglong"><span class="icon icon--github"><svg viewBox="0 0 16 16"><path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/></svg>
</span><span class="username">puronglong</span></a>

					</li>
					
				</ul>
			</div>

		</div>

	</div>

</footer>

<script type="text/javascript">

	var a = "\n                                   _                                         \n _ __  _   _ _ __ ___  _ __   __ _| | ___  _ __   __ _   ___  __ _ _   _   _ \n| '_ \\| | | | '__/ _ \\| '_ \\ / _` | |/ _ \\| '_ \\ / _` | / __|/ _` | | | | (_)\n| |_) | |_| | | | (_) | | | | (_| | | (_) | | | | (_| | \\__ \\ (_| | |_| |  _ \n| .__/ \\__,_|_|  \\___/|_| |_|\\__, |_|\\___/|_| |_|\\__, | |___/\\__,_|\\__, | (_)\n|_|                          |___/               |___/             |___/     \n          _                                                                  \n  /\\  /\\ (_)                                                                 \n / /_/ / | |                                                                 \n/ __  /  | |                                                                 \n\\/ /_/   |_|            😃";
    console.info(a);

	document.addEventListener('visibilitychange', function() {
                document.title = document.hidden ? '崩溃了，来看一下':'小龙龙的个人博客~'
            });
</script>


	</body>

</html>
