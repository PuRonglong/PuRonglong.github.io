<!DOCTYPE html>
<html>

	<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<title>è’²è£é¾™çš„åšå®¢</title>
	<meta name="description" content="  åœ¨éƒ¨ç½²jekyllå’Œgithub pagesçš„æ—¶å€™é‡åˆ°çš„ä¸€äº›é—®é¢˜">

	<link rel="stylesheet" href="/css/bootstrap.css">
	<link rel="stylesheet" href="/css/main.css">
	<link rel="stylesheet" href="/css/code.css">
	<link rel="canonical" href="http://www.puronglong.com/2016/06/03/jekyll-githubpage.html">
	<link rel="alternate" type="application/rss+xml" title="blog" href="http://www.puronglong.com/feed.xml">
</head>


	<body>

		<div class="pull-right right-sidebar">
	<p>æ ‡ç­¾ï¼š</p>
	
	<p>
	<a class="page-link" href="/tag/æŠ€æœ¯">æŠ€æœ¯</a>
	<span>ï¼ˆ66ï¼‰</span></p>
	
	<p>
	<a class="page-link" href="/tag/ç”Ÿæ´»">ç”Ÿæ´»</a>
	<span>ï¼ˆ35ï¼‰</span></p>
	
</div>
		
		<div class="pull-left left-sidebar">
			<ul class="header-list">
				<li><a class="page-link" href="/">Home</a></li>
				<li><a class="page-link" href="/about/">About</a></li>
				<li><a class="page-link" href="/feed.xml">RSS</a></li>
			</ul>
		</div>
		<div class="page-content">
			<div class="wrapper">
				<article class="post home" itemscope itemtype="http://schema.org/BlogPosting">

	<header class="post-header">
		<h1 class="post-title" itemprop="name headline">jekyllå’Œgithub pagesçš„ä¸€äº›é—®é¢˜</h1>
		<p class="post-meta">2016-06-03</p>
	</header>

	<div class="post-content" itemprop="articleBody">
		<blockquote>
  <p>åœ¨éƒ¨ç½²jekyllå’Œgithub pagesçš„æ—¶å€™é‡åˆ°çš„ä¸€äº›é—®é¢˜</p>
</blockquote>

<p>å› ä¸ºä»¥å‰ç”¨è¿‡jekyllï¼Œæ‰€ä»¥ä»¥ä¸ºjekyllå’Œgithub pagesæ­é…å¾ˆç®€å•ï¼Œç»“æœè‡ªå·±ä½¿ç”¨çš„è¿‡ç¨‹ä¸­é‡åˆ°äº†ä¸€äº›é—®é¢˜ï¼Œä½¿ç”¨googleå’Œstackoverflowè§£å†³äº†é—®é¢˜ï¼Œæœ‰å¿…è¦è®°å½•ä¸€ä¸‹ã€‚</p>

<!-- more -->

<p><img src="/images/article/2016-6-3/1.png" alt="img" /></p>

<p>ä½¿ç”¨jekyll+github pagesåˆæ­¥æ­å»ºå¥½åšå®¢ä»¥åï¼Œéœ€è¦å®ç°æ ‡ç­¾çš„åŠŸèƒ½ï¼Œç‚¹å‡»æ ‡ç­¾é¡µé¢è·³è½¬åˆ°ç›¸åº”çš„é¡µé¢ã€‚æ ‡ç­¾çš„å®ç°æˆ‘ä½¿ç”¨äº†æ’ä»¶ï¼Œæ–°å»ºä¸€ä¸ª_pluginsæ–‡ä»¶å¤¹ï¼Œåœ¨é‡Œé¢æ–°å»ºä¸€ä¸ªrubyæ–‡ä»¶build-tag.rbï¼Œè¿™ä¸ªrubyæ–‡ä»¶é‡Œçš„ä»£ç å®ç°äº†æ ‡ç­¾åŠŸèƒ½ï¼ŒåŸç†å°±æ˜¯ç”Ÿæˆå¯¹åº”æ ‡ç­¾çš„æ–‡ä»¶ï¼Œæ¯”å¦‚æ•´ä¸ªé¦–é¡µæ˜¯ä¸€ä¸ªindexï¼Œæ’ä»¶å°±æ˜¯ä¸ºæ¯ä¸€ä¸ªæ ‡ç­¾ç”Ÿæˆä¸€ä¸ªindexï¼Œè¿™æ ·å°±èƒ½ç°å®æ ‡ç­¾é¡µäº†ã€‚</p>

<p>ç„¶åå¯åŠ¨jekyllæœåŠ¡ï¼Œjekyll serveï¼ŒæŸ¥çœ‹localhost://4000å¹¶æ²¡æœ‰ä»€ä¹ˆé—®é¢˜ï¼Œæ„‰å¿«åœ°ä¸Šä¼ åˆ°githubï¼Œå´å‘ç°æœ¬åœ°å®ç°ä¸€åˆ‡æ­£å¸¸ï¼Œæ”¾åˆ°githubä¸Šæ ‡ç­¾åŠŸèƒ½å´å¤±æ•ˆäº†ã€‚æŸ¥æ‰¾åˆ°é—®é¢˜åœ¨è¿™é‡Œï¼Œgithub helpé‡Œè¿™æ ·è¯´çš„ï¼š</p>

<div class="highlighter-rouge"><pre class="highlight"><code>You can further customize your GitHub Pages site by adding Jekyll plugins.

GitHub Pages officially supports the Jekyll plugins found in the GitHub Pages gem. For the exact versions of the Jekyll plugins that GitHub Pages supports, see this list of GitHub Pages dependencies. Other plugins are not supported, so the only way to incorporate them in your site is to generate your site locally and then push your site's static files to your GitHub Pages site.
</code></pre>
</div>

<p>æ„æ€æ˜¯ï¼Œé€šè¿‡æ·»åŠ æ’ä»¶ï¼Œä½ å¯ä»¥è‡ªå®šä¹‰ä½ çš„github pagesç½‘é¡µï¼Œä½†æ˜¯github pageså®˜æ–¹åªæ”¯æŒä¸€äº›æŒ‡å®šçš„æ’ä»¶ï¼Œç„¶åç»™å‡ºäº†æ”¯æŒçš„æ’ä»¶åˆ—è¡¨ã€‚å…¶å®ƒçš„æ’ä»¶ä¸æ”¯æŒï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬è‡ªå·±å†™çš„æ”¾åœ¨_pluginsé‡Œçš„æ’ä»¶github pagesæ˜¯ä¸æ”¯æŒçš„ã€‚æœ€åå‘Šè¯‰æˆ‘ä»¬å”¯ä¸€çš„åŠæ³•æ˜¯åœ¨æœ¬åœ°ç”Ÿæˆæ–‡ä»¶ç„¶åpushåˆ°github pagesç«™ç‚¹ä¸Šã€‚æˆ‘ä»¬çŸ¥é“å½“æˆ‘ä»¬ä½¿ç”¨markdownå†™äº†åšæ–‡ä»¥åï¼Œjekyllä¼šç”Ÿæˆæ•´ä¸ªé¡¹ç›®çš„é™æ€æ–‡ä»¶ï¼ˆä¹Ÿå°±æ˜¯æˆ‘ä»¬ç½‘é¡µä¸Šå¸¸è§çš„htmlï¼Œcssè¿™äº›ï¼‰åœ¨<code class="highlighter-rouge">_site</code>æ–‡ä»¶å¤¹é‡Œï¼Œå› ä¸ºè¿™ä¸ªç›®å½•ä¸‹çš„æ–‡ä»¶æ˜¯è¢«buildå‡ºæ¥çš„ï¼Œä¸æ˜¯æºç ï¼Œé€šå¸¸git repoï¼ˆä¹ƒè‡³æ‰€æœ‰æºç ç®¡ç†ç³»ç»Ÿï¼‰ä¸åº”åŒ…å«éæºç çš„å†…å®¹ï¼Œæ‰€ä»¥githubå®˜æ–¹æ‰è¯´ä¸è¦æŠŠsiteæ–‡ä»¶å¤¹pushä¸Šå»ï¼Œå¦‚æœä½¿ç”¨äº†github pagesæœåŠ¡ï¼Œæ­£ç¡®é…ç½®ä»¥ågithub pagesä¼šå¸®ä½ buildã€‚</p>

<p>è‡³äºä¸ºä»€ä¹ˆä¸æ”¯æŒï¼Œåˆ™æ˜¯å› ä¸ºå®‰å…¨é—®é¢˜ã€‚</p>

<p>ä½†è¿™æ—¶å€™å°±é‡åˆ°æˆ‘ä»¬ä¸Šé¢è¯´çš„æƒ…å†µäº†ï¼Œå®ƒåœ¨buildçš„æ—¶å€™å¹¶ä¸ä¼šè¯†åˆ«æˆ‘ä»¬è‡ªå·±çš„æ’ä»¶ï¼Œæ‰€ä»¥ç‚¹å‡»æ ‡ç­¾é“¾æ¥çš„æ—¶å€™æŠ¥404é”™è¯¯ã€‚</p>

<p>çŸ¥é“äº†é—®é¢˜ä»¥åï¼Œå”¯ä¸€çš„æ–¹æ³•å°±æ˜¯æŠŠæˆ‘ä»¬ç¼–è¯‘è¿‡åçš„æ–‡ä»¶ä¼ ä¸Šå»ï¼Œä½†ä¸æ˜¯è¯´æˆ‘ä»¬å°±ä¼ siteé‡Œçš„æ–‡ä»¶å°±å¥½äº†ï¼Œå› ä¸ºä»£ç ç®¡ç†çš„åŸåˆ™å°±æ˜¯æ”¾æºä»£ç è€Œä¸æ˜¯ç¼–è¯‘åçš„æ–‡ä»¶ï¼Œé€šè¿‡æºç å’Œæ¯ä¸€æ¬¡çš„commitä¿¡æ¯æ‰èƒ½çœ‹åˆ°é¡¹ç›®ä¸€æ­¥ä¸€æ­¥æ˜¯æ€ä¹ˆå»ºç«‹èµ·æ¥çš„ã€‚äºæ˜¯æˆ‘å°†.gitignoreæ–‡ä»¶é‡Œçš„å¿½ç•¥siteæ–‡ä»¶å¤¹çš„é…ç½®å»æ‰äº†ï¼Œå°†å…¶pushä¸Šå»ï¼Œç§ä»¥ä¸ºgithub pagesä¼šè‡ªåŠ¨æŸ¥æ‰¾siteæ–‡ä»¶å¤¹é‡Œçš„å†…å®¹ï¼Œç»“æœå½“ç„¶æ˜¯ä¸è¡Œçš„äº†ã€‚</p>

<p>æ­£ç¡®çš„åšæ³•æ˜¯æŠŠæºç å’Œç¼–è¯‘åçš„æ–‡ä»¶åˆ†å¼€ã€‚</p>

<p>è¿™ä¸ªæ—¶å€™å°±è¦ç”¨åˆ°gitå¼ºå¤§çš„åˆ†æ”¯ç³»ç»Ÿå•¦ï¼Œä¸€ä¸ªåˆ†æ”¯æ”¾æºç ï¼Œä¸€ä¸ªåˆ†æ”¯æ”¾ç¼–è¯‘åçš„æ–‡ä»¶ã€‚å¯æ˜¯åˆæœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœæˆ‘ä»¬çš„ç«™ç‚¹æ˜¯æ‰˜ç®¡åœ¨ä»¥username.github.ioå‘½åçš„é¡¹ç›®ä¸Šçš„è¯ï¼š</p>

<div class="highlighter-rouge"><pre class="highlight"><code>then GitHub Pages will always serve content from the master branch
</code></pre>
</div>

<p>username.github.ioæ˜¯githubä¸€ä¸ªç‰¹æ®Šçš„å‘½åï¼Œå‡¡æ˜¯ä»¥è¿™ä¸ªåå­—å‘½åçš„é¡¹ç›®ï¼Œgithub pagesä¼šå¼ºåˆ¶ä½¿ç”¨masteråˆ†æ”¯ï¼Œå³ä½¿è¿™ä¸ªé¡¹ç›®ä¸‹æ–°å»ºæœ‰å…¶å®ƒåˆ†æ”¯ã€‚</p>

<p>å¯¹äºæ—¢æƒ³è¦ä½¿ç”¨æ­¤é¡¹ç›®ç®¡ç†åšå®¢æºç åˆæƒ³è¦å‘å¸ƒæ–‡ç« çš„äººæ¥è¯´ï¼Œæœ‰ä¸ªå°æ–¹æ³•å°±æ˜¯æŠŠsiteé‡Œçš„å†…å®¹æ”¾åˆ°masteråˆ†æ”¯ä¸Šï¼Œç„¶åæ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼Œæ¯”å¦‚å‘½åä¸ºsourceï¼Œè¿™ä¸ªåˆ†æ”¯ä¸Šæ”¾çš„å°±æ˜¯åšå®¢æºç ã€‚</p>

<div class="highlighter-rouge"><pre class="highlight"><code>git checkout -b source master
</code></pre>
</div>

<p>ä¸Šé¢gitæŒ‡ä»¤è¡¨ç¤ºä»è¿™ä¸ªmasteråˆ†æ”¯ä¸Šæ–°å»ºä¸€ä¸ªsourceåˆ†æ”¯ã€‚æ–°å»ºäº†ä¸€ä¸ªåˆ†æ”¯ä»¥åè®°å¾—åœ¨githubé‡Œçš„settingé€‰é¡¹é‡ŒæŠŠè¿™ä¸ªåº“çš„æ²¡äººåˆ†æ”¯æ”¹ä¸ºsourceã€‚</p>

<p>é€šè¿‡githubçš„åˆ†æ”¯ç³»ç»Ÿï¼Œè¿™æ ·æˆ‘ä»¬å°±èƒ½åœ¨ä¸€ä¸ªåº“é‡Œåˆ†åˆ«ç®¡ç†æˆ‘ä»¬çš„æºç å’Œç¼–è¯‘æ–‡ä»¶äº†ã€‚æˆ‘ä»¬pushäº†æºç ï¼ˆsourceåˆ†æ”¯ï¼‰ä¹‹åè¿˜è¦pushç¼–è¯‘æ–‡ä»¶ï¼ˆmasteråˆ†æ”¯ï¼‰ï¼Œæ¯æ¬¡æ‰‹åŠ¨æ“ä½œï¼Œåˆ‡æ¢åˆ†æ”¯è¿™äº›å¾ˆç¹çï¼Œå¯ä»¥ä½¿ç”¨ä»£ç ç®€åŒ–æµç¨‹ï¼Œæ–°å»ºä¸€ä¸ªrakefile.rbæ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="nb">require</span> <span class="s2">"rubygems"</span>
<span class="nb">require</span> <span class="s2">"tmpdir"</span>

<span class="nb">require</span> <span class="s2">"bundler/setup"</span>
<span class="nb">require</span> <span class="s2">"jekyll"</span>


<span class="n">desc</span> <span class="s2">"Generate blog files"</span>
<span class="n">task</span> <span class="ss">:generate</span> <span class="k">do</span>
  <span class="no">Jekyll</span><span class="o">::</span><span class="no">Site</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="no">Jekyll</span><span class="p">.</span><span class="nf">configuration</span><span class="p">({</span>
    <span class="s2">"source"</span>      <span class="o">=&gt;</span> <span class="s2">"."</span><span class="p">,</span>
    <span class="s2">"destination"</span> <span class="o">=&gt;</span> <span class="s2">"_site"</span>
  <span class="p">})).</span><span class="nf">process</span>
<span class="k">end</span>


<span class="n">desc</span> <span class="s2">"Generate and publish blog to gh-pages"</span>
<span class="n">task</span> <span class="ss">:publish</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="ss">:generate</span><span class="p">]</span> <span class="k">do</span>
  <span class="no">Dir</span><span class="p">.</span><span class="nf">mktmpdir</span> <span class="k">do</span> <span class="o">|</span><span class="n">tmp</span><span class="o">|</span>
    <span class="n">cp_r</span> <span class="s2">"_site/."</span><span class="p">,</span> <span class="n">tmp</span>

    <span class="n">pwd</span> <span class="o">=</span> <span class="no">Dir</span><span class="p">.</span><span class="nf">pwd</span>
    <span class="no">Dir</span><span class="p">.</span><span class="nf">chdir</span> <span class="n">tmp</span>

    <span class="nb">system</span> <span class="s2">"git init"</span>
    <span class="nb">system</span> <span class="s2">"git add ."</span>
    <span class="n">message</span> <span class="o">=</span> <span class="s2">"Site updated at </span><span class="si">#{</span><span class="no">Time</span><span class="p">.</span><span class="nf">now</span><span class="si">}</span><span class="s2">"</span>
    <span class="nb">system</span> <span class="s2">"git commit -m </span><span class="si">#{</span><span class="n">message</span><span class="p">.</span><span class="nf">inspect</span><span class="si">}</span><span class="s2">"</span>
    <span class="nb">system</span> <span class="s2">"git remote add origin é¡¹ç›®çš„gitåœ°å€"</span>
    <span class="nb">system</span> <span class="s2">"git push origin master --force"</span>

    <span class="no">Dir</span><span class="p">.</span><span class="nf">chdir</span> <span class="n">pwd</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre>
</div>

<p>ç°åœ¨å°±å¯ä»¥ä½¿ç”¨<code class="highlighter-rouge">rake publish</code>è¿™ä¸ªå‘½ä»¤åŒæ—¶compileå’Œpushæˆ‘ä»¬çš„ç«™ç‚¹åˆ°github pagesã€‚</p>

<p>ä½†è¿è¡Œçš„æ—¶å€™æç¤ºæŠ¥é”™ï¼š</p>

<div class="highlighter-rouge"><pre class="highlight"><code>cannot load such file -- bundler/setup
</code></pre>
</div>

<p>æ²¡æœ‰bundlerï¼Œçœ‹æ¥çš„å®‰è£…ï¼Œæ‰§è¡Œï¼š</p>

<div class="highlighter-rouge"><pre class="highlight"><code>sudo gem install bundler
</code></pre>
</div>

<p>æç¤ºï¼š</p>

<div class="highlighter-rouge"><pre class="highlight"><code>ERROR:  While executing gem ... (Errno::EPERM)
    Operation not permitted - /usr/bin/bundle
</code></pre>
</div>

<p>æŸ¥æ‰¾èµ„æ–™æ‰¾åˆ°é—®é¢˜æ‰€åœ¨ï¼š</p>

<div class="highlighter-rouge"><pre class="highlight"><code>No, you'll need to either change your GEM_HOME or do something like sudo gem install bundler -n /usr/local/bin because of El Cap's introduction of SIP (System Integrity Protection).
</code></pre>
</div>

<p>ä¸Šé¢è¿™ä¸ªbundleré‡Œissueè¯´å¾—å¾ˆæ¸…æ¥šï¼Œè¿™æ˜¯Mac OS El Capitanè¿™ä¸ªç‰ˆæœ¬çš„macç³»ç»Ÿçš„ç¼˜æ•…ã€‚</p>

<p>äºæ˜¯æ‰§è¡Œï¼š</p>

<div class="highlighter-rouge"><pre class="highlight"><code>sudo gem install bundler -n /usr/local/bin
</code></pre>
</div>

<p>æˆåŠŸå®‰è£…ã€‚</p>

<p>å‚è€ƒèµ„æ–™ï¼š</p>

<p><a href="http://ixti.net/software/2013/01/28/using-jekyll-plugins-on-github-pages.html">Using Jekyll plugins on GitHub Pages</a></p>

<p><a href="https://github.com/bundler/bundler/issues/4065">Unable to run gem install bundler in OS X El Capitan #4065</a></p>

	</div>

</article>

			</div>
		</div>

		<footer class="site-footer">

	<div class="wrapper">

		<div class="footer-col-wrapper">

			<div>
				<ul class="social-media-list">
					
					<li>
						<a href="https://github.com/puronglong"><span class="icon icon--github"><svg viewBox="0 0 16 16"><path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/></svg>
</span><span class="username">puronglong</span></a>

					</li>
					
				</ul>
			</div>

		</div>

	</div>

</footer>

<script type="text/javascript">

	var a = "\n                                   _                                         \n _ __  _   _ _ __ ___  _ __   __ _| | ___  _ __   __ _   ___  __ _ _   _   _ \n| '_ \\| | | | '__/ _ \\| '_ \\ / _` | |/ _ \\| '_ \\ / _` | / __|/ _` | | | | (_)\n| |_) | |_| | | | (_) | | | | (_| | | (_) | | | | (_| | \\__ \\ (_| | |_| |  _ \n| .__/ \\__,_|_|  \\___/|_| |_|\\__, |_|\\___/|_| |_|\\__, | |___/\\__,_|\\__, | (_)\n|_|                          |___/               |___/             |___/     \n          _                                                                  \n  /\\  /\\ (_)                                                                 \n / /_/ / | |                                                                 \n/ __  /  | |                                                                 \n\\/ /_/   |_|            ğŸ˜ƒ";
    console.info(a);

	document.addEventListener('visibilitychange', function() {
                document.title = document.hidden ? 'å´©æºƒäº†ï¼Œæ¥çœ‹ä¸€ä¸‹':'å°é¾™é¾™çš„ä¸ªäººåšå®¢~'
            });
</script>


	</body>

</html>
